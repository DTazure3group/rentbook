# 3 Team Project
## 동네 슈퍼마켓 온라인 주문 시스템   

# Table of contents

- [동네 슈퍼마켓 온라인 주문 시스템](#---)
  - [서비스 시나리오](#서비스-시나리오)
  - [체크포인트](#체크포인트)
  - [분석/설계](#분석설계)
  - [구현:](#구현-)
    - [DDD 의 적용](#ddd-의-적용)
    - [폴리글랏 퍼시스턴스](#폴리글랏-퍼시스턴스)
    - [폴리글랏 프로그래밍](#폴리글랏-프로그래밍)
    - [동기식 호출 과 Fallback 처리](#동기식-호출-과-Fallback-처리)
    - [비동기식 호출 과 Eventual Consistency](#비동기식-호출-과-Eventual-Consistency)
  - [운영](#운영)
    - [CI/CD 설정](#cicd설정)
    - [동기식 호출 / 서킷 브레이킹 / 장애격리](#동기식-호출-서킷-브레이킹-장애격리)
    - [오토스케일 아웃](#오토스케일-아웃)
    - [무정지 재배포](#무정지-재배포)
  - [신규 개발 조직의 추가](#신규-개발-조직의-추가)


# 서비스 시나리오

기능적 요구사항
1. 고객이 동네에 입점한 슈퍼마켓을 선택한다 
2. 고객이 상품을 선택하여 주문한다 
3. 고객이 결제한다
4. 주문이 되면 주문 내역이 입점상점주인에게 전달된다
5. 상점주인이 확인하여 Packing 후 배달 출발한다
6. 고객이 주문을 취소할 수 있다
7. 주문이 취소되면 배달이 취소된다
8. 고객이 주문상태를 중간중간 조회한다
9. 주문상태가 바뀔 때 마다 카톡으로 알림을 보낸다

비기능적 요구사항
1. 트랜잭션
    1. 결제가 되지 않은 주문건은 아예 거래가 성립되지 않아야 한다  Sync 호출 
1. 장애격리
    1. 상점관리 기능이 수행되지 않더라도 주문은 365일 24시간 받을 수 있어야 한다  Async (event-driven), Eventual Consistency
    1. 결제시스템이 과중되면 사용자를 잠시동안 받지 않고 결제를 잠시후에 하도록 유도한다  Circuit breaker, fallback
1. 성능
    1. 고객이 자주 상점관리에서 확인할 수 있는 배달상태를 주문시스템(프론트엔드)에서 확인할 수 있어야 한다  CQRS
    1. 배달상태가 바뀔때마다 카톡 등으로 알림을 줄 수 있어야 한다  Event driven


# 분석/설계


## AS-IS 조직 (Horizontally-Aligned)
TBD

## TO-BE 조직 (Vertically-Aligned)
TBD

## Event Storming 결과
TBD


### 이벤트 도출
TBD

### 부적격 이벤트 탈락
TBD


### 액터, 커맨드 부착하여 읽기 좋게
TBD

### 어그리게잇으로 묶기
TBD



### 바운디드 컨텍스트로 묶기

TBD



### 폴리시 부착 (괄호는 수행주체, 폴리시 부착을 둘째단계에서 해놔도 상관 없음. 전체 연계가 초기에 드러남)

TBD

### 폴리시의 이동과 컨텍스트 매핑 (점선은 Pub/Sub, 실선은 Req/Resp)

TBD

### 완성된 1차 모형

TBD

### 1차 완성본에 대한 기능적/비기능적 요구사항을 커버하는지 검증
TBD

### 모델 수정

TBD

### 비기능 요구사항에 대한 검증

TBD



## 헥사고날 아키텍처 다이어그램 도출
    
TBD
